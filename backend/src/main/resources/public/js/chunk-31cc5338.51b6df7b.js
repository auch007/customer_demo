(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31cc5338"],{"15fd":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"viewCustomer"},[o("Intro"),o("CustomerEdit")],1)},a=[],n=o("a380"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"customerEdit"},[o("h2",[t._v("View/Edit Customer")]),o("b-table",{attrs:{responsive:"",striped:"",hover:"",items:t.getSelectedCust,fields:t.custFields}}),o("b-container",{staticClass:"bv-example-row"},[o("b-row",[o("b-col",[t._v("Change Customer Status")]),o("b-col",[o("b-form-select",{attrs:{options:t.getStusList},model:{value:t.newStusCod,callback:function(e){t.newStusCod=e},expression:"newStusCod"}})],1),o("b-col",[o("b-button",{attrs:{variant:"success"},on:{click:t.handleChangeStus}},[t._v("Change Status")]),t._v(" \n        "),o("b-button",{attrs:{variant:"success"},on:{click:t.handleRouteHome}},[t._v("Back to List")])],1)],1),o("b-row",[o("b-col",[o("h2",[t._v(" ")])])],1),o("b-row",[o("b-col",[o("h2",[t._v("Customer Note(s)")])])],1),t._l(t.getCustNoteList,function(e){return[o("b-row",{key:e.custNoteUid},[o("b-col",[o("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"100rem"},attrs:{header:e.lstUpdTs,"border-variant":"success",align:"center"}},[o("b-card-text",[t._v(t._s(e.note))]),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-editNote",modifiers:{"modal-editNote":!0}}],attrs:{variant:"success"},on:{click:function(o){t.setWkNoteUid(e.custNoteUid),t.setEditNote(e.note)}}},[t._v("Edit")]),t._v(" \n          "),o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-cfmDelNote",modifiers:{"modal-cfmDelNote":!0}}],attrs:{variant:"success"},on:{click:function(o){return t.setWkNoteUid(e.custNoteUid)}}},[t._v("Delete")])],1)],1)],1)]}),o("b-modal",{attrs:{id:"modal-cfmDelNote",title:"Message"},on:{ok:function(e){return t.handleDeleteNote()}}},[o("p",{staticClass:"my-4"},[t._v("Delete customer note?")])]),o("b-modal",{attrs:{id:"modal-editNote",title:"Edit Note"},on:{ok:function(e){return t.handleEditNote()}}},[o("b-form-textarea",{attrs:{id:"txtAreaEditNote",placeholder:"Enter note here...(max 500 words)",rows:"5",maxlength:"500"},model:{value:t.editNote,callback:function(e){t.editNote=e},expression:"editNote"}})],1),o("b-row",[o("b-col",[t._v(" ")])],1),o("b-row",[o("b-col",[o("b-form-textarea",{attrs:{id:"txtAreaNewNote",placeholder:"Enter new note here...(max 500 words)",rows:"5",maxlength:"500"},model:{value:t.newNote,callback:function(e){t.newNote=e},expression:"newNote"}})],1)],1),o("b-row",[o("b-col",[t._v(" ")])],1),o("b-row",[o("b-col",[o("b-button",{attrs:{variant:"success"},on:{click:t.handleAddNote}},[t._v("Add Note")])],1)],1)],2)],1)},d=[],c=o("cebc"),r=(o("96cf"),o("3b8d")),u=o("bc3a"),l=o.n(u),b=o("2f62"),m={name:"customerEdit",mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.a.get(this.$baseURL+"/customerNote/"+this.selectedUid);case 2:e=t.sent,this.initCustNoteState(e.data);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{custFields:{custUid:{label:"Customer Identifier"},name:{label:"Name"},email:{label:"Email"},phone:{label:"Phone"},dob:{label:"Date of Birth"},crtTs:{label:"Created At"},stus:{label:"Status"}},newStusCod:this.$store.getters.getSelectedCust[0].stusCod,newNote:"",editNote:"",wkNoteUid:null}},computed:Object(c["a"])({},Object(b["d"])(["selectedUid"]),Object(b["c"])(["getSelectedCust","getStusList","getCustNoteList"])),methods:Object(c["a"])({},Object(b["b"])(["initCustNoteState","setCustStus","addCustNote","deleteCustNote","updateCustNote"]),{handleChangeStus:function(){var t=this;l.a.patch(this.$baseURL+"/customer/"+this.selectedUid,{stusCod:this.newStusCod}).then(function(e){t.setCustStus(t.newStusCod),t.$bvToast.toast("Customer status is changed",{title:"Notification",autoHideDelay:8e3,appendToast:!0})})},handleRouteHome:function(){this.$router.push("/")},handleAddNote:function(){var t=this,e={custUid:this.selectedUid,note:this.newNote};l.a.post(this.$baseURL+"/customerNote",e).then(function(e){t.addCustNote(e.data),t.$bvToast.toast("New note is added",{title:"Notification",autoHideDelay:8e3,appendToast:!0})})},setWkNoteUid:function(t){this.wkNoteUid=t},handleDeleteNote:function(){var t=this;l.a.delete(this.$baseURL+"/customerNote/"+this.wkNoteUid).then(function(e){t.deleteCustNote(t.wkNoteUid),t.$bvToast.toast("Customer note is deleted",{title:"Notification",autoHideDelay:8e3,appendToast:!0})})},setEditNote:function(t){this.editNote=t},handleEditNote:function(){var t=this;l.a.patch(this.$baseURL+"/customerNote/"+this.wkNoteUid,{note:this.editNote}).then(function(e){t.updateCustNote(e.data),t.$bvToast.toast("Customer note is updated",{title:"Notification",autoHideDelay:8e3,appendToast:!0})})}})},h=m,N=(o("9382"),o("2877")),f=Object(N["a"])(h,i,d,!1,null,"7b47bb2b",null),v=f.exports,w={name:"viewCustomer",components:{Intro:n["a"],CustomerEdit:v}},C=w,p=Object(N["a"])(C,s,a,!1,null,null,null);e["default"]=p.exports},9382:function(t,e,o){"use strict";var s=o("b2b3"),a=o.n(s);a.a},b2b3:function(t,e,o){}}]);
//# sourceMappingURL=chunk-31cc5338.51b6df7b.js.map